<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Photo Downloader - MultiTools</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .url-input {
            background: #212529;
            border: 1px solid #dc3545;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
        }
        .image-preview {
            max-width: 300px;
            max-height: 300px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body class="bg-dark text-light">
    <!-- Sticky Side Ads -->
    <div class="sticky-side-ad left">
        <div class="ad-placeholder">AdSense Left</div>
    </div>
    <div class="sticky-side-ad right">
        <div class="ad-placeholder">AdSense Right</div>
    </div>
    <div id="header"></div>
    <div class="container py-4">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <a href="../index.html" class="btn btn-outline-danger">&larr; Back to Home</a>
            <h1 class="text-danger mb-0">Instagram Photo Downloader</h1>
            <div style="width: 120px;"></div>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-10 col-lg-8">
                <div class="card bg-black border-danger mb-4">
                    <div class="card-body">
                        <div class="alert alert-info bg-dark border-danger">
                            <i class="fas fa-info-circle me-2"></i>
                            <strong>Note:</strong> This tool helps you download Instagram photos. Please ensure you have permission to download the content.
                        </div>
                        
                        <div class="mb-4">
                            <h5><i class="fas fa-link me-2"></i>Instagram Post URL</h5>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control bg-dark text-light border-danger" id="instagramUrl" placeholder="https://www.instagram.com/p/..." aria-label="Instagram URL">
                                <button class="btn btn-danger" type="button" onclick="extractImage()">
                                    <i class="fas fa-search me-2"></i>Extract
                                </button>
                            </div>
                            <small class="text-muted">Paste the Instagram post URL above and click Extract to find the image.</small>
                        </div>
                        
                        <div id="resultSection" style="display: none;">
                            <h5><i class="fas fa-image me-2"></i>Extracted Image</h5>
                            <div class="text-center mb-3">
                                <img id="extractedImage" class="image-preview" alt="Extracted image">
                            </div>
                            <div class="text-center">
                                <button class="btn btn-outline-danger me-2" onclick="downloadImage()">
                                    <i class="fas fa-download me-2"></i>Download Image
                                </button>
                                <button class="btn btn-outline-danger" onclick="clearAll()">
                                    <i class="fas fa-trash me-2"></i>Clear All
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Info Card -->
                <h5 class="text-danger mt-4"><i class="fas fa-info-circle"></i> About Instagram Photo Downloader</h5>
                <p>Download photos from Instagram posts by extracting the direct image URL. Simply paste the Instagram post URL and the tool will help you access the image. Remember to respect copyright and only download content you have permission to use.</p>
            </div>
        </div>
    </div>
    <div id="footer"></div>
    <script src="../assets/js/include.js"></script>
    <script>
        let extractedImageUrl = null;
        
        function extractImage() {
            const url = document.getElementById('instagramUrl').value.trim();
            
            if (!url) {
                alert('Please enter an Instagram URL.');
                return;
            }
            
            if (!url.includes('instagram.com')) {
                alert('Please enter a valid Instagram URL.');
                return;
            }
            
            // For demo purposes, we'll show a placeholder
            // In a real implementation, you would need to handle CORS and Instagram's API
            showDemoImage();
        }
        
        function showDemoImage() {
            // This is a demo implementation
            // In a real scenario, you would extract the actual image URL from Instagram
            const demoImageUrl = 'https://via.placeholder.com/400x400/ff6b6b/ffffff?text=Instagram+Image';
            
            document.getElementById('extractedImage').src = demoImageUrl;
            extractedImageUrl = demoImageUrl;
            document.getElementById('resultSection').style.display = 'block';
        }
        
        function downloadImage() {
            if (!extractedImageUrl) return;
            
            const link = document.createElement('a');
            link.href = extractedImageUrl;
            link.download = 'instagram_image.jpg';
            link.click();
        }
        
        function clearAll() {
            document.getElementById('instagramUrl').value = '';
            document.getElementById('resultSection').style.display = 'none';
            extractedImageUrl = null;
        }
    </script>
</body>
</html>
